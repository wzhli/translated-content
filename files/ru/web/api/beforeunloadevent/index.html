---
title: BeforeUnloadEvent
slug: Web/API/BeforeUnloadEvent
tags:
  - Диалог
  - Окно
translation_of: Web/API/BeforeUnloadEvent
---
<p>{{APIRef}}</p>

<p>Событие <strong><code>beforeunload </code></strong>  (en: перед_выгрузкой) происходит (непосредственно) перед выгрузкой окна, документа и их ресурсов.</p>

<p>Если присвоено ненулевое значение свойству <code>returnValue</code> Event, всплывает диалоговое окно: "Вы действительно хотите покинуть эту страницу?" (см. пример ниже). Если значение не присвоено, то событие не отображается. В некоторых случаях диалоговое окно всплывает только после взаимодействия пользователя с фреймом или любым встроенным фреймом. См. детали  {{anch("Browser compatibility")}} </p>

<table class="properties">
 <tbody>
  <tr>
   <td>Всплывающие окна</td>
   <td>Нет</td>
  </tr>
  <tr>
   <td>Возможность отмены</td>
   <td>Да</td>
  </tr>
  <tr>
   <td>Целевые Объекты</td>
   <td>defaultView</td>
  </tr>
  <tr>
   <td>Интерфейс</td>
   <td>{{domxref("Event")}}</td>
  </tr>
 </tbody>
</table>

<h2 id="Примеры">Примеры</h2>

<pre class="brush:js;">window.addEventListener("beforeunload", function( event ) {
  event.returnValue = "\o/";
});

//is equivalent to
window.addEventListener("beforeunload", function( event ) {
  event.preventDefault();
});</pre>

<p>Webkit-based browsers не следуют спецификации диалоговых окон . Самый кросс-браузерный работающий пример выглядит примерно так: см. ниже.</p>

<pre class="brush: js">window.addEventListener("beforeunload", function (e) {
  var confirmationMessage = "\o/";

  (e || window.event).returnValue = confirmationMessage;     //Gecko + IE
  return confirmationMessage;                                //Webkit, Safari, Chrome etc.
});</pre>

<h2 id="Совместимость_браузеров">Совместимость браузеров</h2>

<div>
<p>{{Compat}}</p>
</div>

<h2 id="Смотрите_также">Смотрите также</h2>

<ul>
 <li>{{Event("DOMContentLoaded")}}</li>
 <li>{{Event("readystatechange")}}</li>
 <li>{{Event("load")}}</li>
 <li>{{Event("beforeunload")}}</li>
 <li>{{Event("unload")}}</li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#prompt-to-unload-a-document">Выгрузка Документов - Запрос на выгрузку документа</a> </li>
</ul>
