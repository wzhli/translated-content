---
title: ServiceWorkerGlobalScope.onpushsubscriptionchange
slug: Web/API/ServiceWorkerGlobalScope/onpushsubscriptionchange
tags:
  - API
  - NeedsExample
  - Property
  - Push
  - Reference
  - Service Worker
  - ServiceWorkerGlobalScope
  - onpushsubscriptionchange
translation_of: Web/API/ServiceWorkerGlobalScope/onpushsubscriptionchange
---
<div>{{APIRef("Service Workers API")}}</div>

<p>{{domxref("ServiceWorkerGlobalScope")}} インターフェースの <code><strong>ServiceWorkerGlobalScope.onpushsubscriptionchange</strong></code> イベントは、アプリケーションのコントロールの外側で発生したプッシュサブスクリプションの変更を示すために発火されます。例えば、ブラウザーがプッシュサブスクリプションをリフレッシュしたときなどです。</p>

<p>以前は、プッシュサブスクリプションが無効化された時（または無効になろうとしている時）に発火されるイベントインターフェースとして定義されていました。もし望むなら、これはプッシュメッセージの取得を継続するために、再講読する機会を提供します。たとえば、これはプッシュサービスがサブスクリプションに有効期限を設定した場合に発生します。</p>

<h2 id="Syntax" name="Syntax">構文</h2>

<pre class="syntaxbox">ServiceWorkerGlobalScope.onpushsubscriptionchange = function() { ... }
<var>self</var>.addEventListener('pushsubscriptionchange', function() { ... })
</pre>

<h2 id="Example" name="Example">例</h2>

<pre class="brush: js">self.addEventListener('pushsubscriptionchange', function() {
  // 何かを実行する。一般的には、XHR や Fetch を通して
  // サーバーに新しいサブスクリプションの詳細を送ることで
  // 再サブスクライブする。
});</pre>

<h2 id="Specifications" name="Specifications">仕様</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">仕様</th>
   <th scope="col">状態</th>
   <th scope="col">コメント</th>
  </tr>
  <tr>
   <td>{{SpecName('Push API', '#widl-ServiceWorkerGlobalScope-onpushsubscriptionchange', 'onpushsubscriptionchange')}}</td>
   <td>{{Spec2('Push API')}}</td>
   <td>初期定義（ノート： このイベントは Push API で仕様化されていますが、{{domxref("ServiceWorkerGlobalScope")}} を介してアクセスします）。</td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility" name="Browser_compatibility">ブラウザー実装状況</h2>

<div>
<p>{{Compat("api.ServiceWorkerGlobalScope.onpushsubscriptionchange")}}</p>
</div>

<h2 id="関連項目">関連項目</h2>

<ul>
 <li><a href="/ja/docs/Web/API/Push_API">Push API</a></li>
</ul>
