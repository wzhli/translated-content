---
title: Content-Encoding
slug: Web/HTTP/Headers/Content-Encoding
tags:
  - HTTP
  - HTTP ヘッダー
  - Reference
  - エンティティヘッダー
  - ヘッダー
  - リファレンス
translation_of: Web/HTTP/Headers/Content-Encoding
---
<div>{{HTTPSidebar}}</div>

<p> <strong><code>Content-Encoding</code></strong> エンティティヘッダーは、圧縮のメディア種別に使用します。存在する場合、値はエンティティ本体にどのエンコーディングが適用されているかを示します。これはクライアントに、 <code>Content-Type</code> ヘッダーで参照されるメディア種別を得るためにデコードする方法を知らせます。</p>

<p>可能な限りデータを圧縮してこのフィールドを使用することを推奨しますが、 JPEG 画像などの一部のリソースは、すでに圧縮されています。時には、さらに圧縮をしても長さが短縮されないどころか、かえって長くなることもあります。</p>

<table class="properties">
 <tbody>
  <tr>
   <th scope="row">ヘッダー種別</th>
   <td>{{Glossary("Entity header", "エンティティヘッダー")}}</td>
  </tr>
  <tr>
   <th scope="row">{{Glossary("Forbidden header name", "禁止ヘッダー名")}}</th>
   <td>いいえ</td>
  </tr>
 </tbody>
</table>

<h2 id="Syntax" name="Syntax">構文</h2>

<pre class="syntaxbox">Content-Encoding: gzip
Content-Encoding: compress
Content-Encoding: deflate
Content-Encoding: identity
Content-Encoding: br

// 複数の場合、適用された順序
Content-Encoding: gzip, identity
Content-Encoding: deflate, gzip
</pre>

<h2 id="Directives" name="Directives">ディレクティブ</h2>

<dl>
 <dt><code>gzip</code></dt>
 <dd><a class="external" href="http://en.wikipedia.org/wiki/LZ77_and_LZ78#LZ77">Lempel-Ziv coding</a> (LZ77) を使用し、32ビットの CRC が付いた形式です。これは UNIX の <em>gzip</em> プログラムの独自形式です。 HTTP/1.1 標準は、この Content-Encoding に対応するサーバーは、互換性の面から <code>x-gzip</code> もエイリアスとして解釈するよう推奨しています。</dd>
 <dt><code>compress</code></dt>
 <dd><a class="external" href="http://en.wikipedia.org/wiki/LZW">Lempel-Ziv-Welch</a> (LZW) アルゴリズムを使用した形式です。この値の名前は、このアルゴリズムを実装している UNIX の <em>compress</em> プログラムから取られました。特許問題 (2003年に期限切れ) を一因として、 compress プログラムが多くの UNIX ディストリビューションから削除されたのと同様に、この Content-Encoding は現在では多くのブラウザーから削除されています。</dd>
 <dt><code>deflate</code></dt>
 <dd><a class="external" href="http://en.wikipedia.org/wiki/Zlib">zlib</a> 構造 (<a class="external" href="http://tools.ietf.org/html/rfc1950">RFC 1950</a> で定義) の <a class="external" href="http://en.wikipedia.org/wiki/DEFLATE"><em>deflate</em></a> 圧縮アルゴリズム (<a class="external" href="http://tools.ietf.org/html/rfc1952">RFC 1951</a> で定義) を使用します。</dd>
 <dt><code>identity</code></dt>
 <dd>等価関数 (つまり、圧縮も変更もなし) を示します。このトークンは、明示的に指定された場合を除き、常に受け入れられます。</dd>
 <dt><code>br</code></dt>
 <dd> <a href="https://en.wikipedia.org/wiki/Brotli">Brotli</a> アルゴリズムを使用した形式です。</dd>
</dl>

<h2 id="Examples" name="Examples">例</h2>

<h3 id="Compressing_with_gzip" name="Compressing_with_gzip">gzip での圧縮</h3>

<p>クライアント側では、送信で使用してほしい圧縮方式のリストを HTTP 要求で示すことができます。 {{HTTPHeader("Accept-Encoding")}} ヘッダーを使用して、コンテンツのエンコード方式の交渉が行われます。</p>

<pre>Accept-Encoding: gzip, deflate</pre>

<p>サーバーは応答に使用したエンコード方式を、 <code>Content-Encoding</code> レスポンスヘッダーで示します。</p>

<pre>Content-Encoding: gzip</pre>

<p>なお、サーバーはどの圧縮方式も使用することを義務づけられていません。圧縮はサーバー設定や使用しているサーバージュールに強く依存します。</p>

<h2 id="Specifications" name="Specifications">仕様書</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">仕様書</th>
   <th scope="col">題名</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>{{RFC("7932", "Brotli Compressed Data Format")}}</td>
   <td>Brotli 圧縮データ形式</td>
  </tr>
  <tr>
   <td>{{RFC("7231", "Content-Encoding", "3.1.2.2")}}</td>
   <td>Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</td>
  </tr>
  <tr>
   <td>{{RFC("2616", "Content-Encoding", "14.11")}}</td>
   <td>Content-Encoding</td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility" name="Browser_compatibility">ブラウザーの互換性</h2>

<p>{{Compat("http.headers.Content-Encoding")}}</p>

<h2 id="See_also" name="See_also">関連情報</h2>

<ul>
 <li>{{HTTPHeader("Accept-Encoding")}}</li>
 <li>{{HTTPHeader("Transfer-Encoding")}}</li>
</ul>
