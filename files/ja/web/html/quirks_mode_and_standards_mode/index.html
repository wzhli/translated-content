---
title: 後方互換モードと標準準拠モード
slug: Web/HTML/Quirks_Mode_and_Standards_Mode
tags:
  - Gecko
  - Guide
  - HTML
  - NeedsUpdate
  - Web Development
  - Web Standards
  - XHTML
translation_of: Web/HTML/Quirks_Mode_and_Standards_Mode
---
<p>{{HTMLRef}}</p>

<p>かつてウェブでは、よく2つのバージョンのページを作成していました。ひとつは Netscape Navigator 向け、もうひとつは Microsoft Internet Explorer 向けです。 W3C がウェブ標準を作成したとき、ウェブ上のほとんどの既存サイトの表示が壊れるため、ブラウザーはウェブ標準を採用し始めることができませんでした。そのためブラウザーは、標準に準拠した新しいサイトと以前の古いサイトを区別して扱うために、2つのモードを導入しました。</p>

<p>ウェブブラウザーのレイアウトエンジンが利用するモードは、後方互換 (Quirks) モード、準標準 (Almost Standards) モード、完全標準 (Full Standards) モードの3種類になりました。<strong>後方互換モード</strong>では、レイアウトは Navigator 4 や Internet Explorer 5 のような非標準の動作をエミュレートします。これは、ウェブ標準が広く採用される前に作られたウェブサイトをサポートするために必要です。<strong>完全標準準拠モード</strong>では、HTML や CSS の仕様書で書かれている通りに動作します (そのように期待されています)。<strong>ほぼ標準準拠モード</strong>では、ほぼ標準準拠モードのトリガーとなる DOCTYPE を利用している実際のページについて表示を損なう可能性を考慮した、ごく少数の互換動作が実装されています。</p>

<h2 id="How_does_Mozilla_determine_which_mode_to_use.3F" name="How_does_Mozilla_determine_which_mode_to_use.3F">ブラウザーが利用するモードを決定する方法</h2>

<p><a href="/ja/docs/HTML" title="HTML">HTML</a> 文書については、ブラウザーは文書の先頭にある DOCTYPE を使用して、後方互換モードで処理するか、標準準拠モードで処理するかを決定します。ページで確実に完全標準準拠モードが使用されるようにするには、以下のサンプルのような DOCTYPE を使用するようにしてください。</p>

<pre class="brush: html notranslate">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset=UTF-8&gt;
    &lt;title&gt;Hello World!&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>

<p>この例にある DOCTYPE の <code>&lt;!DOCTYPE html&gt;</code> はもっともシンプルな形式であり、HTML5 で推奨されているもののひとつです。以前のバージョンの HTML 標準では他の形式を推奨していましたが、現行のブラウザーはすべて（旧式の Internet Explorer 6 でさえ）、この DOCTYPE に対して完全標準準拠モードを使用します。より複雑な DOCTYPE を使用すべき理由はありません。他の DOCTYPE を使用する場合は、ほぼ互換モードや後方互換モードが適用されるおそれがあります。</p>

<p>DOCTYPE は HTML 文書の先頭に置くようにしてください。 Internet Explorer 9 以前ではコメントや XML 宣言などが DOCTYPE の前に存在すると、後方互換モードが適用されます。</p>

<p>HTML5 では、 DOCTYPE の用途は完全標準準拠モードを適用させることだけです。古いバージョンの HTML 標準では DOCTYPE に他の意味を与えていましたが、後方互換モードと標準準拠モードの切り替え以外の目的で DOCTYPE を使用するブラウザーはありませんでした。</p>

<p><a href="http://hsivonen.iki.fi/doctype/">さまざまなブラウザーのモード選択の詳細な説明</a>もご覧ください。</p>

<h3 id="XHTML" name="XHTML">XHTML</h3>

<p><code>Content-Type</code> HTTP ヘッダで <code>application/xhtml+xml</code> を使用して、ページを <a href="/ja/docs/XHTML" title="XHTML">XHTML</a> として提供する場合は、文書で常に完全標準準拠モードを使用しますので、標準準拠モードを有効化するための DOCTYPE は不要です。ただし Internet Explorer 8 は<code>application/xhtml+xml</code> でページを提供すると、ページを表示せずに未知の形式のファイルを<a href="/ja/docs/XHTML#Support" title="XHTML">ダウンロードするダイアログボックス</a>を表示します。これは、最初に XHTML をサポートした Internet Explorer がバージョン 9 であるためです。</p>

<p><code>text/html</code> の MIME タイプを使用して XHTML 形式のコンテンツを提供する場合は、ブラウザーが HTML として読み込みますので、標準準拠モードを使用するために DOCTYPE が必要です。</p>

<h2 id="What_are_the_differences_between_the_modes.3F" name="What_are_the_differences_between_the_modes.3F">どのモードが使われているかを確認するには</h2>

<p>Firefox では、コンテキストメニューで <em>ページの情報を表示</em> を選択して、<em>描画モード</em> を確認してください。</p>

<p>Internet Explorer では、 <em>F12</em> を押下して、<em>ドキュメントモード</em> を確認してください。</p>

<h2 id="What_are_the_differences_between_the_modes.3F" name="What_are_the_differences_between_the_modes.3F">モードの違い</h2>

<p>それぞれのモードの違いについては、<a href="/ja/docs/Mozilla_Quirks_Mode_Behavior" title="Mozilla_Quirks_Mode_Behavior">互換モード一覧</a> および <a href="/ja/docs/Mozilla/Gecko_Almost_Standards_Mode" title="Gecko%27s_%22Almost_Standards%22_Mode">準標準準拠モード</a> をご覧ください。</p>
