---
title: X-Content-Type-Options
slug: Web/HTTP/Headers/X-Content-Type-Options
tags:
  - MIME嗅探
  - 响应首部
  - 超文本传输协议
  - 首部
translation_of: Web/HTTP/Headers/X-Content-Type-Options
---
<div>{{HTTPSidebar}}</div>

<p><code><strong>X-Content-Type-Options</strong></code> HTTP 消息头相当于一个提示标志，被服务器用来提示客户端一定要遵循在 {{HTTPHeader("Content-Type")}} 首部中对  <a href="/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types">MIME 类型</a> 的设定，而不能对其进行修改。这就禁用了客户端的 <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types#MIME_sniffing">MIME 类型嗅探</a>行为，换句话说，也就是意味着网站管理员确定自己的设置没有问题。</p>

<p>该消息头最初是由微软在 IE 8 浏览器中引入的，提供给网站管理员用作禁用内容嗅探的手段，内容嗅探技术可能会把不可执行的 MIME 类型转变为可执行的 MIME 类型。在此之后，其他浏览器也相继引入了这个消息头，尽管它们的 MIME 嗅探算法没有那么有侵略性。</p>

<p>安全测试人员通常期望站点设置了该消息头。</p>

<p class="note">注意: <code>nosniff</code> 只应用于 "<code>script</code>" 和 "<code>style</code>" 两种类型。事实证明，将其应用于图片类型的文件会导致<a href="https://github.com/whatwg/fetch/issues/395">与现有的站点冲突</a>。</p>

<table class="properties">
 <tbody>
  <tr>
   <th scope="row">Header type</th>
   <td>{{Glossary("Response header")}}</td>
  </tr>
  <tr>
   <th scope="row">{{Glossary("Forbidden header name")}}</th>
   <td>no</td>
  </tr>
 </tbody>
</table>

<h2 id="语法">语法</h2>

<pre class="syntaxbox">X-Content-Type-Options: nosniff
</pre>

<h2 id="指令">指令</h2>

<dl>
 <dt><code>nosniff</code></dt>
 <dd>下面两种情况的请求将被阻止：
 <ul>
  <li>请求类型是"<code>style</code>" 但是 MIME 类型不是 "<code>text/css</code>"，</li>
  <li>请求类型是"<code>script</code>" 但是 MIME 类型不是  <a href="https://html.spec.whatwg.org/multipage/scripting.html#javascript-mime-type">JavaScript MIME 类型</a>。</li>
 </ul>
 </dd>
</dl>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td>{{SpecName("Fetch", "#x-content-type-options-header", "X-Content-Type-Options definition")}}</td>
   <td>{{Spec2("Fetch")}}</td>
   <td>Initial definition</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<p>{{Compat("http.headers.X-Content-Type-Options")}}</p>

<h2 id="相关内容">相关内容</h2>

<ul>
 <li>{{HTTPHeader("Content-Type")}}</li>
 <li>The <a href="https://blogs.msdn.microsoft.com/ie/2008/09/02/ie8-security-part-vi-beta-2-update/">original definition</a> of X-Content-Type-Options by Microsoft.</li>
 <li>The <a href="https://mozilla.github.io/http-observatory-website/">Mozilla Observatory</a> tool testing the configuration (including this header) of Web sites for safety and security</li>
 <li>
  <p><a href="https://blog.mozilla.org/security/2016/08/26/mitigating-mime-confusion-attacks-in-firefox/">Mitigating MIME Confusion Attacks in Firefox</a></p>
 </li>
</ul>
