---
title: Expect-CT
slug: Web/HTTP/Headers/Expect-CT
tags:
  - HTTP
  - 响应头
  - 证书透明度
translation_of: Web/HTTP/Headers/Expect-CT
---
<p>{{HTTPSidebar}}</p>

<p><code>Expect-CT</code> 头允许站点选择性报告和/或执行证书透明度 (Certificate Transparency) 要求，来防止错误签发的网站证书的使用不被察觉。当站点启用 <code>Expect-CT</code> 头，就是在请求浏览器检查该网站的任何证书是否出现在公共证书透明度日志之中。</p>

<table class="properties">
 <tbody>
  <tr>
   <th scope="row">Header type</th>
   <td>{{Glossary("Response header")}}</td>
  </tr>
  <tr>
   <th scope="row">{{Glossary("Forbidden header name")}}</th>
   <td>yes</td>
  </tr>
 </tbody>
</table>

<h2 id="语法">语法</h2>

<pre>Expect-CT: report-uri="&lt;uri&gt;";
           enforce;
           max-age=&lt;age&gt;</pre>

<h2 id="指令">指令</h2>

<dl>
 <dt>max-age</dt>
 <dd>
 <p>该指令指定接收到 <code>Expect-CT</code> 头后的秒数，在此期间用户代理应将收到消息的主机视为已知的 Expect-CT 主机。</p>

 <p>如果缓存接收到的值大于它可以表示的值，或者如果其随后计算溢出，则缓存将认为该值为2147483648（2的31次幂）或其可以方便表示的最大正整数。</p>
 </dd>
 <dt>report-uri="&lt;uri&gt;" {{optional_inline}}</dt>
 <dd>
 <p>该指令指定用户代理应向其报告 Expect-CT 失效的 URI。</p>
 当 <code>enforce</code> 指令和 <code>report-uri</code> 指令共同存在时，这种配置被称为“强制执行和报告”配置，示意用户代理既应该强制遵守证书透明度政策，也应当报告违规行为。

 <p> </p>
 </dd>
 <dt>enforce {{optional_inline}}</dt>
 <dd>
 <p>该指令示意用户代理应强制遵守证书透明度政策（而不是只报告合规性），并且用户代理应拒绝违反证书透明度政策的之后连接。</p>

 <p>当  <code>enforce</code> 指令和  <code>report-uri</code> 指令共同存在时，这种配置被称为“强制执行和报告”配置，示意用户代理既应该强制遵守证书透明度政策，也应当报告违规行为。</p>
 </dd>
</dl>

<h2 id="示例">示例</h2>

<p>以下示例指定24小时的证书透明度执行，并向 foo.example 报告违规行为.</p>

<pre>Expect-CT: max-age=86400; enforce; report-uri="https://foo.example/report"</pre>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">规范</th>
   <th scope="col">标题</th>
  </tr>
  <tr>
   <td><a href="https://tools.ietf.org/html/draft-ietf-httpbis-expect-ct-01">Internet Draft</a></td>
   <td>Expect-CT Extension for HTTP</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<p>{{Compat("http.headers.Expect-CT")}}</p>
