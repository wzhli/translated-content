---
title: Range.selectNodeContents()
slug: Web/API/Range/selectNodeContents
tags:
  - API
  - DOM
  - 方法
  - 范围
translation_of: Web/API/Range/selectNodeContents
---
<p>{{ApiRef("DOM")}}</p>

<p><strong><code>Range.selectNodeContents()</code></strong> 方法用于设置 {{ domxref("Range") }}，使其包含一个 {{ domxref("Node") }} 的内容。</p>

<p>{{ domxref("Range") }} 的起始和结束节点的父节点即为引用节点。 <code>startOffset</code> 为 0,  <code>endOffset</code> 则是引用节点包含的字符数或子节点个数。</p>

<h2 id="Syntax" name="Syntax">语法</h2>

<pre class="syntaxbox"><em>range</em>.selectNodeContents(<em>referenceNode</em>);
</pre>

<h3 id="Parameters" name="Parameters">参数</h3>

<dl>
 <dt><em>referenceNode</em></dt>
 <dd>此 {{ domxref("Node") }} 中的内容被包含在 {{ domxref("Range") }} 中。</dd>
</dl>

<h2 id="Example" name="Example">示例</h2>

<pre class="brush: js">range = document.createRange();
referenceNode = document.getElementsByTagName("div")[0];
range.selectNodeContents(referenceNode);
</pre>

<h3 id="实时样例">实时样例</h3>

<p>这个例子让用户使用按钮选择或取消选择一个段落。{{domxref("Document.createRange()")}}、 <code>Range.selectNodeContents()</code> 和 {{domxref("Selection.addRange()")}} 用于选择内容。{{domxref("Window.getSelection()")}} 和 {{domxref("Selection.removeAllRanges()")}} 用于取消选择。</p>

<h4 id="HTML">HTML</h4>

<pre>&lt;p id="p"&gt;&lt;b&gt;Use the buttons below&lt;/b&gt; to select or deselect the contents of this paragraph.&lt;/p&gt;
&lt;button id="select-button"&gt;Select paragraph&lt;/button&gt;
&lt;button id="deselect-button"&gt;Deselect paragraph&lt;/button&gt;
</pre>

<h4 id="JavaScript">JavaScript</h4>

<pre>const p = document.getElementById('p');
const selectButton = document.getElementById('select-button');
const deselectButton = document.getElementById('deselect-button');

selectButton.addEventListener('click', e =&gt; {
  // Clear any current selection
  const selection = window.getSelection();
  selection.removeAllRanges();

  // Select paragraph
  const range = document.createRange();
  range.selectNodeContents(p);
  selection.addRange(range);
});

deselectButton.addEventListener('click', e =&gt; {
  const selection = window.getSelection();
  selection.removeAllRanges();
});</pre>

<h4 id="结果">结果</h4>

<p>{{EmbedLiveSample("Live_sample")}}</p>

<h2 id="Specification" name="Specification">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">规范</th>
   <th scope="col">状态</th>
   <th scope="col">注释</th>
  </tr>
  <tr>
   <td>{{SpecName('DOM WHATWG', '#dom-range-selectnodecontents', 'Range.selectNodeContents()')}}</td>
   <td>{{Spec2('DOM WHATWG')}}</td>
   <td>无变化</td>
  </tr>
  <tr>
   <td>{{SpecName('DOM2 Traversal_Range', 'ranges.html#Level2-Range-method-selectNodeContents', 'Range.selectNodeContents()')}}</td>
   <td>{{Spec2('DOM2 Traversal_Range')}}</td>
   <td>初始规范</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<p>{{Compat("api.Range.selectNodeContents")}}</p>

<h2 id="参见"><span>参见</span></h2>

<div id="compat-mobile"></div>

<ul>
 <li><a href="/en-US/docs/DOM/DOM_Reference" title="/en-US/docs/DOM/DOM_Reference">The DOM interfaces index</a></li>
</ul>
