---
title: 'HTMLInputElement: invalid event'
slug: Web/API/HTMLInputElement/invalid_event
tags:
  - Constraint validation
  - Event
  - 事件
  - 参考
  - 提交
  - 表单
translation_of: Web/API/HTMLInputElement/invalid_event
---
<div>{{APIRef}}</div>

<p>若一个可提交元素在检查有效性时，不符合对它的约束条件，则会触发 <strong><code>invalid</code></strong> 事件。</p>

<table class="properties">
 <tbody>
  <tr>
   <th>冒泡</th>
   <td>否</td>
  </tr>
  <tr>
   <th>可取消</th>
   <td>是</td>
  </tr>
  <tr>
   <th>接口</th>
   <td>{{DOMxRef("Event")}}</td>
  </tr>
  <tr>
   <th>事件处理程序属性</th>
   <td>{{domxref("GlobalEventHandlers.oninvalid")}}</td>
  </tr>
 </tbody>
</table>

<p>这个事件可用于展示提交表单时所出现的问题的概览。当表单提交时，若任一表单控件无效，则会触发 <code>invalid</code> 事件。对可提交元素有效性的检查是在提交父元素 {{HtmlElement("form")}} 之前或调用父元素 <code>&lt;form&gt;</code> 或元素自己的 <a href="/en-US/docs/Learn/Forms#constraint_validation_api" title="/en-US/docs/HTML/Forms_in_HTML#Constraint_Validation_API"><code>checkValidity()</code></a> 方法之后。</p>

<p>这个事件不会在 {{Event("blur")}} 事件中触发。</p>

<h2 id="Examples">示例</h2>

<p>如果表单提交时有无效值，检查可提交元素时发现了错误，则 <code>invalid</code> 事件会在那个无效元素上触发。在这个例子中，当输入无效值触发 <code>invalid</code> 事件时，这个无效值被记录下来。</p>

<h3 id="HTML">HTML</h3>

<pre class="brush: html">&lt;form action="#"&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;label&gt;Enter an integer between 1 and 10: &lt;input type="number" min="1" max="10" required&gt;&lt;/label&gt;&lt;/li&gt;
    &lt;li&gt;&lt;input type="submit" value="submit"&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/form&gt;&lt;p id="log"&gt;&lt;/p&gt;</pre>

<h3 id="JavaScript">JavaScript</h3>

<pre class="brush: js">const input = document.querySelector('input')
const log = document.getElementById('log')

input.addEventListener('invalid', logValue)

function logValue(e) {
  log.textContent += e.target.value
}</pre>

<h3 id="结果">结果</h3>

<p>{{EmbedLiveSample("Examples")}}</p>

<h2 id="规范">规范</h2>

{{Specifications}}

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<p>{{Compat}}</p>

<h2 id="参见">参见</h2>

<ul>
 <li>HTML {{HtmlElement("form")}} 元素</li>
 <li>相关事件：{{Event("submit")}}</li>
 <li><a href="/en-US/docs/Web/CSS/:invalid">CSS <code>:invalid</code> 伪类</a></li>
</ul>
